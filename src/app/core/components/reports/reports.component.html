
<div class="main-container">
  <h1>Reports</h1>
  <mat-tab-group dynamicHeight>
    <mat-tab label="IMPC Production numbers">
      <app-production-numbers-tab></app-production-numbers-tab>
    </mat-tab>
    <mat-tab label="Work Units Attempts">
      <h3>Work Units Attempts Report</h3>
      <div class="controls-container">
        <mat-form-field>
          <mat-label>Work unit</mat-label>
          <input
            type="text"
            placeholder="Pick one"
            aria-label="Work unit"
            matInput
            (change)="onOptionActivated($event)"
            #workUnitInput
            [matAutocomplete]="WUAutocomplete"
          >
          <mat-autocomplete #WUAutocomplete="matAutocomplete" (optionSelected)="onOptionActivated($event)">
            <mat-option *ngFor="let unit of workUnits$ | async" [value]="unit">
              {{ unit }}
            </mat-option>
          </mat-autocomplete>
          <mat-hint>Please select a value in both selects to enable the download</mat-hint>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Attempt</mat-label>
          <mat-select [(value)]="attemptTypeSelected">
            <mat-option value="crispr">CRISPR</mat-option>
            <mat-option value="escell">ES Cell</mat-option>
            <mat-option value="escellallelemodification">ES Cell Allele Modification</mat-option>
          </mat-select>
        </mat-form-field>
        <button
          mat-raised-button
          color="primary"
          (click)="downloadWorkUnitAttemptsReport()"
          [disabled]="!attemptWorkUnitSelected || !attemptTypeSelected"
        >
          Download report
        </button>
      </div>
    </mat-tab>
    <mat-tab label="Languishing Project">
      <h3>Languishing Project Report</h3>
      <a mat-raised-button color="primary" [href]="apiServiceUrl + '/api/reports/languishing_project_report'">Download report</a>
    </mat-tab>
    <mat-tab label="Multiple assigned genes">
      <h3>Multiple assigned genes Report</h3>
      <a mat-raised-button color="primary" [href]="apiServiceUrl + '/api/reports/multiple_assigned_project_report'">Download report</a>
    </mat-tab>
    <mat-tab label="No assigned project">
      <h3>No assigned project report</h3>
      <a mat-raised-button color="primary" [href]="apiServiceUrl + '/api/reports/no_assigned_project_report'">Download report</a>
    </mat-tab>
    <mat-tab label="All inactive project">
      <h3>All inactive project report</h3>
      <a mat-raised-button color="primary" [href]="apiServiceUrl + '/api/reports/all_inactive_project_report'">Download report</a>
    </mat-tab>
  </mat-tab-group>
</div>
